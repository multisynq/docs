---
title: 'Data'
description: 'API reference for Data class'
---

# Data

## Methods

### Static Methods

#### `static hash(data, output)`

Answer a hash for the given data. Strings and binary arrays are hashed directly, other objects use a stable JSON stringification

**Parameters:**

- `data` (`ArrayBuffer|String|*`) - the data to be hashed
- `output` (`"hex"|"base64"|"base64url"`) - hash encoding (default: "base64url")

**Returns:** `String` - SHA256 hash

#### `static fromId(id)`

Create a data handle from a string id.

**Parameters:**

- `id` (`String`) - an id created by [Data.toId()](#data.toid)

**Returns:** `DataHandle` - a handle to be used with [Data.fetch()]{@link Data#fetch}

#### `static toId(handle)`

Create a string id from a data handle. This base64url-encoded id is a string that includes the data location and decryption key.

**Parameters:**

- `handle` (`DataHandle`) - a handle created by [Data.store()](#datastore)

**Returns:** `String` - id an id to be used with [Data.fromId()]{@link Data.fromId}

### Instance Methods

#### `store(data)`

Store data and return an (opaque) handle. If `options.shareable` is `true`, the handle will include the decryption key and can be shared (see security/privacy warning above). By default, `data` will become unusable after this call, because the ArrayBuffer is detached when being [transferred](https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/ArrayBuffer#transferring_arraybuffers) to a web worker for encryption and upload. Set `options.keep` to `true` to make a copy instead of moving the data.

**Parameters:**

- `data` (`ArrayBuffer`) - the data to be stored

**Returns:** `Promise&lt;DataHandle&gt;` - return promise for the handle

**Example:**

```javascript
// in a view, perhaps after a file drop event
const handle = await this.session.data.store(arrayBuffer);
this.publish("set-file", handle);
```

#### `fetch(dataHandle)`

Fetch data for a given data handle

**Parameters:**

- `dataHandle` (`DataHandle`) - created by [Data.store()](#datastore)

**Returns:** `Promise&lt;ArrayBuffer&gt;` - the data

**Example:**

```javascript
// in a view, perhaps after a "got-file" event from the model
const handle = this.model.handle;
const arrayBuffer = await this.session.data.fetch(handle);
```

#### `store(data, options, deprecatedKeep)`

**Parameters:**

- `data` (`any`) - 
- `options` (`any`) - 
- `deprecatedKeep` (`any`) - 

#### `fetch(handle, options)`

**Parameters:**

- `handle` (`any`) - 
- `options` (`any`) - 
